# NYC TaxRAG Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# API Keys (Required)
# =============================================================================

# Anthropic API key for Claude
NYCTAX_ANTHROPIC_API_KEY=your-anthropic-api-key-here

# OpenAI API key (for embeddings, optional if using local embeddings)
NYCTAX_OPENAI_API_KEY=your-openai-api-key-here

# =============================================================================
# LLM Configuration
# =============================================================================

# LLM provider: "anthropic" or "openai"
NYCTAX_LLM_PROVIDER=anthropic

# Model to use for generation
NYCTAX_LLM_MODEL=claude-sonnet-4-20250514

# Maximum tokens for LLM response
NYCTAX_LLM_MAX_TOKENS=4096

# Temperature for LLM (0.0 - 1.0, lower = more deterministic)
NYCTAX_LLM_TEMPERATURE=0.1

# =============================================================================
# Embedding Configuration
# =============================================================================

# Embedding provider: "openai" or "local"
NYCTAX_EMBEDDING_PROVIDER=openai

# Embedding model
NYCTAX_EMBEDDING_MODEL=text-embedding-3-small

# =============================================================================
# Vector Store Configuration
# =============================================================================

# Vector store provider: "chroma", "pinecone", or "faiss"
NYCTAX_VECTORSTORE_PROVIDER=chroma

# Path for local vector store (ChromaDB, FAISS)
NYCTAX_VECTORSTORE_PATH=data/processed/index

# Pinecone configuration (if using Pinecone)
# NYCTAX_PINECONE_API_KEY=your-pinecone-api-key
# NYCTAX_PINECONE_ENVIRONMENT=your-pinecone-environment
# NYCTAX_PINECONE_INDEX_NAME=nyc-taxrag

# =============================================================================
# Retrieval Configuration
# =============================================================================

# Number of chunks to retrieve
NYCTAX_RETRIEVAL_TOP_K=5

# Minimum similarity threshold for retrieval (0.0 - 1.0)
NYCTAX_RETRIEVAL_THRESHOLD=0.7

# Enable reranking (true/false)
NYCTAX_USE_RERANKING=false

# =============================================================================
# Chunking Configuration
# =============================================================================

# Target chunk size in tokens
NYCTAX_CHUNK_SIZE=800

# Overlap between chunks in tokens
NYCTAX_CHUNK_OVERLAP=100

# =============================================================================
# Fallback Configuration
# =============================================================================

# Enable fallback system (true/false)
NYCTAX_FALLBACK_ENABLED=true

# Confidence threshold below which to use fallback (0.0 - 1.0)
NYCTAX_FALLBACK_THRESHOLD=0.5

# Path to compressed prompt file
NYCTAX_COMPRESSED_PROMPT_PATH=data/processed/compressed_prompt.txt

# =============================================================================
# Paths
# =============================================================================

# Raw data directory
NYCTAX_RAW_DATA_PATH=data/raw

# Processed data directory
NYCTAX_PROCESSED_DATA_PATH=data/processed
